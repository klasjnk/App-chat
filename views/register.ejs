<%- include('layouts/header.ejs'); -%>
    <script src="./js/showPassword.js"></script>
    <div class="wrapper">
        <div class="form">
            <div class="form-title">Chat App</div>
            <form class="form-content" method="POST" action="./register" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="name">Họ tên</label>
                    <input id="name" type="text" placeholder="Nhập họ tên" name="name" <% if (locals.name) { %>
                    value="<%= name %>"
                        <% } %>>

                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input id="email" type="text" placeholder="Nhập email" name="email" <% if (locals.email) { %>
                    value="<%= email %>"
                        <% } %>>
                </div>
                <div class="form-group">
                    <label for="password">Mật khẩu</label>
                    <input type="password" placeholder="Nhập mật khẩu" name="password" id="password" <% if
                        (locals.password) { %>
                    value="<%= password %>"
                        <% } %>>
                            <i class="fas fa-eye" id="eye-1"></i>
                </div>
                <div class="form-group">
                    <label for="password-confirm">Xác nhận mật khẩu</label>
                    <input type="password" placeholder="Nhập lại mật khẩu" name="password2" id="password-confirm" <% if
                        (locals.password2) { %>
                    value="<%= password2 %>"
                        <% } %>>
                            <i class="fas fa-eye" id="eye-2"></i>
                </div>
                <div class="custom-file">
                    <input type="file" name="image" class="custom-file-input" id="image" <% if (locals.src) { %>
                    src="<%= src %>"
                        <% } %>>
                            <label class="custom-file-label" for="image">Chọn ảnh đại diện ...</label>
                </div>
                <% if (locals.error) { %>
                    <div class="error-text">
                        <%= locals.error %>
                    </div>
                    <%} %>
                        <button type="submit">Đăng Ký</button>
                        <div class="link">
                            Bạn đã có tài khoản ? <a href="./login">Đăng nhập</a>
                        </div>
            </form>
        </div>
    </div>
    <%- include("./layouts/footer.ejs") -%>

        <script>
            let nameBox = $("input[name='name']")
            let emailBox = $("input[name='email']")
            let passwordBox = $("input[name='password']")
            let passwordBox2 = $("input[name='password2']")
            nameBox.on("keydown", hideErrorText)
            emailBox.on("keydown", hideErrorText)
            passwordBox.on("keydown", hideErrorText)
            passwordBox2.on("keydown", hideErrorText)

            function hideErrorText() {
                let error = $(".error-text")
                error.css("display", "none")
            }

        </script>