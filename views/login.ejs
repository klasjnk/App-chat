<%- include('layouts/header.ejs'); -%>
    <script src="./js/showPassword.js"></script>
    <div class="wrapper">
        <div class="form">
            <div class="form-title">Chat App</div>
            <form class="form-content" method="POST" action="./login">

                <div class="form-group">
                    <label for="email">Email</label>
                    <input id="email" type="text" placeholder="Nhập email" name="email" <% if (locals.email) { %>
                    value="<%= locals.email %>" <%} %>>
                </div>
                <div class="form-group">
                    <label for="password">Mật khẩu</label>
                    <input id="password" type="password" placeholder="Nhập mật khẩu" name="password" id="password">
                    <i class="fas fa-eye" id="eye"></i>
                </div>
                <% if (locals.error) { %>
                    <div class="error-text">
                        <%= locals.error %>
                    </div>
                    <%} %>
                        <button type="submit">Đăng Nhập</button>
                        <div class="link">
                            Bạn chưa có tài khoản ? <a href="./register">Đăng ký</a>
                        </div>
            </form>
        </div>
    </div>
    <%- include('layouts/footer.ejs'); -%>
        <script>
            let emailBox = $("input[name='email']")
            let passwordBox = $("input[name='password']")
            let value = emailBox.val()
            emailBox.focus().val('').val(value)

            emailBox.on("keydown", hideErrorText)
            passwordBox.on("keydown", hideErrorText)

            function hideErrorText() {
                let error = $(".error-text")
                error.css("display", "none")
            }

        </script>